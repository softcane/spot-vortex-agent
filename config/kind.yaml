controller:
  riskThreshold: 0.85
  maxDrainRatio: 0.5
  reconcileIntervalSeconds: 15
  confidenceThreshold: 0.50
  drainGracePeriodSeconds: 15

inference:
  tftModelPath: "models_latest/tft.onnx"
  rlModelPath: "models_latest/rl_policy.onnx"
  modelManifestPath: "models_latest/MODEL_MANIFEST.json"
  # Must match manifest cloud (if set).
  expectedCloud: "aws"

prometheus:
  url: "http://127.0.0.1:9090"
  timeoutSeconds: 10

# Autoscaling (ASG) integration enabled for Kind testing with FakeASGClient
autoscaling:
  enabled: true
  discoveryTags:
    pool: "spotvortex.io/pool"
    type: "spotvortex.io/capacity-type"
  nodeReadyTimeoutSeconds: 60  # Short timeout for Kind tests
  pollIntervalSeconds: 2

aws:
  region: "us-east-1"
  # Optional catalog hints for pricing workflows (not model-scope enforcement).
  instanceTypes: []
  availabilityZones: []

gcp:
  projectId: ""
  region: "us-central1"
  # Optional catalog hints for pricing workflows (not model-scope enforcement).
  machineTypes: []

# Karpenter integration (per PRODUCTION_FLOW_EKS_KARPENTER.md)
karpenter:
  enabled: true
  useExtendedPoolId: true
  spotNodePoolSuffix: "-spot"
  onDemandNodePoolSuffix: "-od"
  spotWeight: 100
  onDemandWeight: 10
  managedWorkloadPools: []  # Empty = manage all pools
  weightChangeCooldownSeconds: 60
  usePoolLevelInference: true  # Section 6 Option 2
  respectDisruptionBudgets: true  # Section 2.4
